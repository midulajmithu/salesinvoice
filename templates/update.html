<html>
    <head>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    </head>

    <body>
        <!-- Update Modal -->
<div class="modal fade" id="updateModal" tabindex="-1" aria-labelledby="updateModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <form method="POST" action="{% url 'update_entry' %}">
                {% csrf_token %}
                <div class="modal-header">
                    <h5 class="modal-title" id="updateModalLabel">Update Entry</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <input type="hidden" name="entry_id" id="entry-id">
                    
                    <div class="mb-3">
                        <label for="date" class="form-label">Date</label>
                        <input type="date" class="form-control" name="date" id="date">
                    </div>
                    <div class="mb-3">
                        <label for="mr_mh_no" class="form-label">MR or MH No</label>
                        <input type="text" class="form-control" name="mr_mh_no" id="mr-mh-no">
                    </div>
                    <div class="mb-3">
                        <label for="item" class="form-label">Item</label>
                        <input type="text" class="form-control" name="item" id="item">
                    </div>
                    <div class="mb-3">
                        <label for="unit_of_measure" class="form-label">Unit of Measure</label>
                        <input type="text" class="form-control" name="unit_of_measure" id="unit-of-measure">
                    </div>
                    <div class="mb-3">
                        <label for="quantity" class="form-label">Quantity</label>
                        <input type="number" class="form-control" name="quantity" id="quantity">
                    </div>
                    <div class="mb-3">
                        <label for="supplier_name" class="form-label">Supplier Name</label>
                        <input type="text" class="form-control" name="supplier_name" id="supplier-name">
                    </div>
                    <div class="mb-3">
                        <label for="project_no" class="form-label">Project No</label>
                        <input type="text" class="form-control" name="project_no" id="project-no">
                    </div>
                    <div class="mb-3">
                        <label for="invoice_no" class="form-label">Invoice No</label>
                        <input type="text" class="form-control" name="invoice_no" id="invoice-no">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="submit" class="btn btn-primary">Save changes</button>
                </div>
            </form>
        </div>
    </div>
</div>

{% block inventery %}
      {% endblock %}


<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>

<script>
    var updateModal = document.getElementById('updateModal');
    updateModal.addEventListener('show.bs.modal', function (event) {
        var button = event.relatedTarget;
        
        // Get data attributes from the button
        document.getElementById('entry-id').value = button.getAttribute('data-entry-id');
        
        document.getElementById('date').value = button.getAttribute('data-date');
        document.getElementById('mr-mh-no').value = button.getAttribute('data-mr-mh-no');
        document.getElementById('item').value = button.getAttribute('data-item');
        document.getElementById('unit-of-measure').value = button.getAttribute('data-unit');
        document.getElementById('quantity').value = button.getAttribute('data-quantity');
        document.getElementById('supplier-name').value = button.getAttribute('data-supplier');
        document.getElementById('project-no').value = button.getAttribute('data-project');
        document.getElementById('invoice-no').value = button.getAttribute('data-invoice');
    });
</script>

    </body>
</html>